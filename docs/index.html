<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8">
<title>EmbedSLR â€“ Kompleksowa dokumentacja</title>
<style>
/* â”€â”€â”€ Estetyka iÂ uÅ¼ytecznoÅ›Ä‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
body{font-family:Arial,Helvetica,sans-serif;max-width:950px;margin:auto;padding:2.2rem;line-height:1.55}
h1,h2,h3{border-bottom:1px solid #e0e0e0;padding-bottom:.2rem;margin-top:2.2rem}
code,pre{font-family: Consolas,Monaco,monospace}
pre{background:#fafafa;border:1px solid #ddd;padding:1rem;border-radius:5px;overflow-x:auto}
kbd{background:#eee;border:1px solid #ccc;border-radius:3px;padding:2px 4px;font-size:90%}
table{border-collapse:collapse;width:100%}th,td{border:1px solid #ddd;padding:.4rem}
th{background:#f5f5f5}
</style>
</head>
<body>

<h1>EmbedSLRÂ ğŸš€ &nbsp;<small>Deterministyczny screening publikacji &amp; audyt bibliometryczny</small></h1>

<p><strong>EmbedSLR</strong> to zwiÄ™zÅ‚y framework wÂ Pythonie, ktÃ³ry Å‚Ä…czy <em>embeddingâ€‘based ranking</em> zÂ automatycznym audytem bibliometrycznym, aby radykalnie skrÃ³ciÄ‡ fazÄ™ selekcji wÂ systematycznych przeglÄ…dach literatury (<abbr title="Systematic Literature Review">SLR</abbr>).</p>

<ul>
  <li>W peÅ‚ni <strong>deterministyczny</strong> â€“ brak losowych komponentÃ³w LLM</li>
  <li>5 wymiennych backendÃ³w embeddingÃ³w: lokalnyâ€¯SBERT, OpenAI, Cohere, Jina, Nomic</li>
  <li>Dwa tryby â€<strong>zeroÂ config</strong>â€: interaktywny <em>Wizard</em> wÂ terminalu oraz <em>GoogleÂ ColabÂ GUI</em></li>
  <li>Generuje gotowy do udostÄ™pnienia raport: <code>biblio_report.txt</code></li>
</ul>


<h2>1. Instalacja</h2>

<h3>1.1 ZÂ PyPI (najÅ‚atwiej)</h3>
<pre><code>pip install embedslr</code></pre>

<h3>1.2 ZÂ GitHuba (wersjaâ€¯dev)</h3>
<pre><code>pip install git+https://github.com/s-matysik/EmbedSLR_.git</code></pre>

<p>Alternatywnie moÅ¼esz sklonowaÄ‡ repozytorium iâ€¯pracowaÄ‡ w trybie editable:</p>
<pre><code>git clone https://github.com/s-matysik/EmbedSLR_.git
cd EmbedSLR_
pip install -e .       # editable install
</code></pre>


<h2>2. Szybki start</h2>

<h3>2.1 GoogleÂ ColabÂ GUIÂ ğŸŸ¢ (polecane dla poczÄ…tkujÄ…cych)</h3>
<pre><code class="language-python">!pip install git+https://github.com/s-matysik/EmbedSLR_.git
from embedslr.colab_app import run
run()         # automatycznie wyÅ›wietli graficzny widÅ¼et</code></pre>

<h3>2.2 TerminalÂ WizardÂ âš¡ (offline friendly)</h3>
<ol>
  <li>Przygotuj eksport zÂ Scopusa / WoS wÂ formie CSV.</li>
  <li>Uruchom:
  <pre><code>python -m embedslr.wizard</code></pre></li>
  <li>Podaj Å›cieÅ¼kÄ™ do CSV, zapytanie badawcze i wybierz provider/model.</li>
  <li>OdbierzÂ ZIP (ranking, topâ€‘<em>N</em>, raport bibliometryczny).</li>
</ol>

<h3>2.3 Minimalny skrypt Pythona</h3>
<pre><code class="language-python">from embedslr import io, embeddings, similarity

df = io.load_csv("scopus_export.csv")       # wczytaj iÂ autoâ€‘wykryj kolumny
df["txt"] = io.combine_title_abstract(df)   # tekst do embedowania
vecs = embeddings.get_embeddings(df["txt"]) # domyÅ›lnie: SBERT miniâ€‘LM
qvec = embeddings.get_embeddings(["Does CSR influence consumer behaviour?"])[0]
ranked = similarity.rank_by_cosine(qvec, vecs, df)
ranked.head(20).to_csv("ranking.csv", index=False)</code></pre>


<h2>3. Lokalny SBERT &nbsp;<small>(automatyczne pobieranie + 100â€¯% offline)</small></h2>

<p>JeÅ›li wybierzesz providera <kbd>sbert</kbd>, wÂ grÄ™ wchodzi specjalna obsÅ‚uga:</p>

<table>
<thead><tr><th>FragmentÂ kodu</th><th>Funkcja</th></tr></thead>
<tbody>
<tr><td><code>_ensure_sbert_installed()</code></td><td>Sprawdza dostÄ™pnoÅ›Ä‡ biblioteki <code>sentenceâ€‘transformers</code>; wÂ razie braku pyta iÂ instaluje (<kbd>pip install --user â€¦</kbd>).</td></tr>
<tr><td><code>_local_model_dir()</code></td><td>Wyznacza katalog <code>embedslr/sbert_models/&lt;model&gt;</code> na staÅ‚e przechowywanie modeli.</td></tr>
<tr><td><code>_get_or_download_local_sbert()</code></td><td>Pobiera model tylko przyÂ pierwszym uruchomieniu iÂ zapisuje lokalnie;Â ustawia <code>HF_HUB_OFFLINE=1</code>, aby kolejne starty dziaÅ‚aÅ‚y bez internetu.</td></tr>
<tr><td><code>_select_model()</code></td><td>Model wpisujesz tylko razÂ â€“ koniec zÂ podwÃ³jnym promptem.</td></tr>
</tbody>
</table>

<p>Efekt: <strong>od drugiego uruchomienia pracujesz caÅ‚kowicie offline</strong>, nawet wÂ Å›rodowiskach bezÂ dostÄ™pu do internetu czyÂ wÂ zamkniÄ™tych sieciach.</p>


<h2>4. Bibliometric indicators (AÂ â€¦â€¯I)</h2>

<p>EmbedSLR oblicza 10â€¯(+1) wskaÅºnikÃ³w, ktÃ³re mierzÄ… spÃ³jnoÅ›Ä‡ tematycznÄ… iÂ cytowania wewnÄ™trzne wÂ korpusie publikacji. Wszystkie implementacje znajdziesz wÂ pliku <code>embedslr/bibliometrics.py</code>.</p>

<table>
<thead><tr><th>Symbol</th><th>Opis</th><th>Funkcja</th></tr></thead>
<tbody>
<tr><td>A</td><td>Åšrednia liczba wspÃ³lnych referencji na parÄ™ artykuÅ‚Ã³w</td><td><code>indicator_a(df)</code></td></tr>
<tr><td>Aâ€²</td><td>Åšredni indeks Jaccarda (referencje)</td><td><code>indicator_a_prime(df)</code></td></tr>
<tr><td>B</td><td>Åšrednia liczba wspÃ³lnych sÅ‚Ã³w kluczowych na parÄ™</td><td><code>indicator_b(df)</code></td></tr>
<tr><td>Bâ€²</td><td>Åšredni Jaccard (sÅ‚owa kluczowe)</td><td><code>indicator_b_prime(df)</code></td></tr>
<tr><td>C</td><td>Liczba par z â‰¥1 wspÃ³lnÄ… referencjÄ…</td><td><code>indicator_c(df)</code></td></tr>
<tr><td>D</td><td>L. unikatowych referencji wspÃ³Å‚dzielonych przez â‰¥2 artykuÅ‚y</td><td><code>indicator_d(df)</code></td></tr>
<tr><td>E</td><td>Suma wszystkich przeciÄ™Ä‡ referencji</td><td><code>indicator_e(df)</code></td></tr>
<tr><td>F</td><td>Liczba par z â‰¥1 wspÃ³lnym sÅ‚owem kluczowym</td><td><code>indicator_f(df)</code></td></tr>
<tr><td>G</td><td>Liczba sÅ‚Ã³w kluczowych wystÄ™pujÄ…cych w â‰¥2 artykuÅ‚ach</td><td><code>indicator_g(df)</code></td></tr>
<tr><td>H</td><td>Åšrednia liczba wspÃ³lnie cytowanych artykuÅ‚Ã³w na parÄ™</td><td><code>indicator_h(df)</code></td></tr>
<tr><td>I</td><td>ÅÄ…czna liczba unikatowych artykuÅ‚Ã³w cytowanych wzajemnie</td><td><code>indicator_i(df)</code></td></tr>
</tbody>
</table>

<h3>4.1 PeÅ‚ny raport wÂ jednym wywoÅ‚aniu</h3>
<pre><code class="language-python">from embedslr.bibliometrics import full_report
full_report(ranked_df, path="biblio_report.txt", top_n=30)</code></pre>

<h3>4.2 Wyliczenie pojedynczego wskaÅºnika</h3>
<pre><code class="language-python">from embedslr.bibliometrics import indicator_b_prime
val = indicator_b_prime(ranked_df)     # float
print("Åšredni Jaccard (kws):", val)</code></pre>


<h2>5. Struktura repozytorium</h2>

<pre>
embedslr/                 # moduÅ‚ gÅ‚Ã³wny
â”œâ”€â”€ io.py                 # wczytywanie CSV/RIS, detekcja kolumn, Å‚Ä…czenie tytuÅ‚u+abstraktu
â”œâ”€â”€ embeddings.py         # 5Â providerÃ³w modeli + interfejs get_embeddings()
â”œâ”€â”€ similarity.py         # ranking wgÂ cosine similarity
â”œâ”€â”€ bibliometrics.py      # wskaÅºniki Aâ€¦I + peÅ‚ny raport
â”œâ”€â”€ wizard.py             # interaktywny terminalowy asystent (pipeline offline)
â”œâ”€â”€ cli.py                # ThinÂ wrapper dla typersâ€‘CLI (rank, metrics, wizard)
â”œâ”€â”€ colab_app.py          # widÅ¼et GoogleÂ Colab (GUI)
â”œâ”€â”€ utils.py              # logowanie, seedÂ fix, mierzenie czasu
â”œâ”€â”€ _version.py           # numer wersji zÂ gitâ€‘tagu
â””â”€â”€ __init__.py           # eksport publicznego API
docs/                     # (Sphinx/pdoc) dokumentacja â€“ zastÄ…p tym plikiem
examples/                 # notatniki iÂ skrypty zÂ artykuÅ‚u/README
pyproject.toml            # manifest: metadata, zaleÅ¼noÅ›ci runtime, minimalâ€‘backend
setup.cfg                 # dopasowania flake8 + deklaracja py.typed
MANIFEST.in               # pliki nieâ€‘Python doÅ‚Ä…czane doÂ sdist (docs, *.ipynb)
LICENSE                   # licencja MIT
README.md                 # front repo â€“ skrÃ³cony opis + quickÂ start
.gitignore                # wykluczenia (build, __pycache__, *.ipynb_checkpoints)
</pre>


<h2>6. SzczegÃ³Å‚y plikÃ³wÂ *.py*</h2>

<ul>
  <li><strong>io.py</strong> â€“ funkcje <code>load_csv()</code>, <code>load_ris()</code>, <code>autodetect_columns()</code>, <code>combine_title_abstract()</code>.</li>
  <li><strong>embeddings.py</strong> â€“ klasy providerÃ³w (<em>SbertProvider</em>, <em>OpenAIProvider</em> itd.) + <code>list_models()</code> iÂ <code>get_embeddings()</code>.</li>
  <li><strong>similarity.py</strong> â€“ <code>rank_by_cosine(query_vec, doc_vecs, df)</code>; zwraca <em>DataFrame</em> posortowany rosnÄ…co poÂ odlegÅ‚oÅ›ci.</li>
  <li><strong>bibliometrics.py</strong> â€“ funkcje wskaÅºnikÃ³w, <code>indicators()</code>, <code>full_report()</code>; optymalizacja: <em>_prepare_stats</em> wyliczany raz.</li>
  <li><strong>wizard.py</strong> â€“ pipeline <em>endâ€‘toâ€‘end</em>: CSV &rarr; embeddings &rarr; ranking &rarr; raport &rarr; ZIP; obsÅ‚uga SBERT offline.</li>
  <li><strong>cli.py</strong> â€“ TyperÂ CLI: <kbd>embedslr rank</kbd>, <kbd>embedslr metrics</kbd>, <kbd>embedslr wizard</kbd>.</li>
  <li><strong>colab_app.py</strong> â€“ <code>run()</code> buduje widÅ¼et <code>ipywidgets</code>; idealny dla dydaktyki / publikacji.</li>
  <li><strong>utils.py</strong> â€“ jednolite logi (<code>log()</code>), <code>set_seed()</code>, kontekst <code>timed()</code>.</li>
</ul>


<h2>7. Citing</h2>

<pre><code class="language-bibtex">@misc{matysik2025embedslr,
  title  = {EmbedSLRÂ â€“ deterministic embeddingâ€‘based screening and bibliometric validation in SLR},
  author = {Matysik, Sebastian and WiÅ›niewska, Joanna and Frankowski, PaweÅ‚Â K.},
  year   = {2025},
  url    = {https://github.com/s-matysik/EmbedSLR_/}
}</code></pre>


<h2>8. FAQ</h2>

<details>
  <summary><strong>â“ Nie mam klucza API â€“ czy mogÄ™ uÅ¼ywaÄ‡ EmbedSLR?</strong></summary>
  <p>Tak, wybierz providera <kbd>sbert</kbd>. Model SBERT zostanie pobrany jednorazowo zâ€¯HFÂ Hub iÂ potem dziaÅ‚a caÅ‚kowicie offline.</p>
</details>

<details>
  <summary><strong>â“ Jak zmieniÄ‡ domyÅ›lnÄ… liczbÄ™ dokumentÃ³w <em>Topâ€‘N</em>?</strong></summary>
  <p>WÂ terminalu podaj Å¼Ä…danÄ… liczbÄ™ wÂ kroku <kbd>ğŸ”¢ Topâ€‘N publications for metrics</kbd>. WÂ API ustaw parametr <code>top_n</code> wÂ <code>full_report()</code>.</p>
</details>


<p style="margin-top:3rem;font-size:90%;color:#555">Dokument wygenerowano automatycznieÂ â€”Â ostatnia aktualizacja: <time datetime="2025-08-06">06â€¯sieâ€¯2025</time>.</p>

</body>
</html>
